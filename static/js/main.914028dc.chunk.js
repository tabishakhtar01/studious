(this["webpackJsonpclassplus-challenge"]=this["webpackJsonpclassplus-challenge"]||[]).push([[0],{43:function(e,t,c){"use strict";c.r(t);var a=c(1),n=c(4),s=c.n(n),r=c(7),l=c.n(r),o=c(17),i=c(3),u=c(0),d={transform:"translate(-50%,-50%)",backgroundColor:"#FFF",padding:"50px",zIndex:1e3},j={backgroundColor:"rgba(0,0,0,0.7)",zIndex:1e3},m={position:"fixed",top:"5%",right:"5%",zIndex:"5000"},g=function(e){var t=e.open,c=e.children,a=e.onClose;return t?s.a.createPortal(Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{className:"fixed top-0 left-0 right-0 bottom-0",style:j}),Object(u.jsxs)("div",{className:"fixed top-1/2 left-1/2  md:h-screen w-full md:w-3/5",style:d,children:[c,Object(u.jsx)("br",{}),Object(u.jsx)("button",{style:m,className:"text-6xl",onClick:a,children:Object(u.jsx)("i",{className:"text-blue-600 hover:text-blue-900 fas fa-times-circle"})})]})]}),document.getElementById("portal")):null},h=c(8),b=c.n(h),x=function(){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"flex text-center justify-center items-center h-screen",children:Object(u.jsx)("div",{className:"m-auto",children:Object(u.jsx)("iframe",{src:"https://giphy.com/embed/kUTME7ABmhYg5J3psM",width:"480",height:"360",title:"loading.gif",frameBorder:"0",className:"giphy-embed",allowFullScreen:!0})})})})},f=function(e){var t=e.list,c=e.setInput;return Object(u.jsx)(u.Fragment,{children:t&&t.length>0&&Object(u.jsx)("div",{className:"bg-white w-auto m-5 overflow-hidden rounded",children:t.slice(0,3).map((function(e){return Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("p",{className:"tracking-widest text-lg p-1  hover:bg-gray-200 cursor-pointer",onClick:function(){return c(e)},children:e}),Object(u.jsx)("hr",{})]})}))})})},p=function(e){var t=e.list,c=e.clearSuggestion,a=e.inputFunction,n=e.removeSuggestion,s=e.setInput;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"sticky top-0 z-10 max-w-md mx-auto rounded-lg overflow-hidden md:max-w-xl",children:Object(u.jsx)("div",{className:"md:flex",children:Object(u.jsx)("div",{className:"w-full p-5",children:Object(u.jsxs)("div",{className:"relative",children:[t&&t.length>0?Object(u.jsx)("i",{onClick:c,className:"absolute animate-bounce text-lg text-gray-500 hover:text-red-700 hover:scale-105 far fa-trash-alt top-5 left-4"}):Object(u.jsx)("i",{className:"absolute animate-bounce fa fa-search text-gray-400 top-5 left-4"}),Object(u.jsx)("input",{type:"text",autoComplete:"off",onChange:a,onKeyUp:n,className:"bg-white h-14 w-full px-12 rounded-lg focus:outline-none hover:cursor-pointer",name:""}),Object(u.jsx)(f,{list:t,setInput:s})]})})})})})},O=function(e){var t=e.imageData,c=e.fetchData;return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"relative grid grid-cols-2 md:grid-cols-3 lg:grid-cols-4 overflow-hidden",children:t.map((function(e){return Object(u.jsx)(u.Fragment,{children:Object(u.jsx)("div",{className:"p-2",children:Object(u.jsx)("img",{className:"transform hover:scale-105 rounded ",onClick:function(){return c(e.server,e.id,e.secret)},src:"https://live.staticflickr.com/".concat(e.server,"/").concat(e.id,"_").concat(e.secret,".jpg"),alt:"".concat(e.id)})})})}))})})},v=function(){var e,t=Object(a.useState)(),c=Object(i.a)(t,2),n=c[0],s=c[1],r=Object(a.useState)([]),d=Object(i.a)(r,2),j=d[0],m=d[1],h=Object(a.useState)(!1),f=Object(i.a)(h,2),v=f[0],w=f[1],k=Object(a.useState)(!0),N=Object(i.a)(k,2),y=N[0],S=N[1],F=Object(a.useState)(JSON.parse(localStorage.getItem("list"))),C=Object(i.a)(F,1)[0],I=Object(a.useState)([]),z=Object(i.a)(I,2),E=z[0],J=z[1],_="48ea756ec6d203887b39cab848932050",D=Object(a.useState)({server:"",id:"",secret:""}),B=Object(i.a)(D,2),R=B[0],P=B[1],T=function(){var e=Object(o.a)(l.a.mark((function e(){var t,c;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!n){e.next=8;break}return e.next=4,b.a.get("https://api.flickr.com/services/rest/?method=flickr.photos.search&api_key=".concat(_,"&text=").concat(n,"&sort=interestingness-desc&per_page=100&license=4&extras=owner_name%2Clicense&format=json&nojsoncallback=1"));case 4:t=e.sent,m(t.data.photos.photo),e.next=12;break;case 8:return e.next=10,b.a.get("https://www.flickr.com/services/rest/?method=flickr.photos.getRecent&api_key=".concat(_,"&format=json&nojsoncallback=1"));case 10:c=e.sent,m(c.data.photos.photo);case 12:console.log("Fetching Data"),S(!1),e.next=21;break;case 16:e.prev=16,e.t0=e.catch(0),console.log("ERROR ",e.t0),S(!1),alert("OOPS, Something went wrong");case 21:case"end":return e.stop()}}),e,null,[[0,16]])})));return function(){return e.apply(this,arguments)}}(),A=function(e){e&&"Escape"===e.key&&J(""),J("")};return Object(a.useEffect)((function(){T()}),[n]),y?Object(u.jsx)(x,{}):Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("div",{style:{fontFamily:"'Prata', serif"},className:"text-center text-3xl text-gray-700 p-5 tracking-widest bg-gray-300",children:"Search For Anthing You Wish"}),Object(u.jsxs)("div",{className:"bg-black",onClick:A,children:[Object(u.jsx)("div",{className:"relative z-10",children:Object(u.jsx)(g,{open:v,onClose:function(){return w(!1)},children:Object(u.jsx)("img",{className:"fixed z-50 top-1/2 left-1/2 h-screen w-max transform -translate-x-1/2 -translate-y-1/2",src:"https://live.staticflickr.com/".concat(R.server,"/").concat(R.id,"_").concat(R.secret,".jpg"),alt:"".concat(R.id)})})}),Object(u.jsx)(p,{list:E,clearSuggestion:function(){localStorage.clear(),window.location.reload(),J("")},inputFunction:function(t){clearTimeout(e),e=setTimeout((function(){var e=t.target.value;s(e),null===localStorage.getItem("list")&&localStorage.setItem("list","[]");var c=JSON.parse(localStorage.getItem("list"));e.length>2&&void 0!==e&&c.push(e),c=c.filter((function(e,t){return c.indexOf(e)===t})),localStorage.setItem("list",JSON.stringify(c)),J(""===e?"":function(){return C&&C.length>0?C.filter((function(t){return t.toLowerCase().includes(e.toLowerCase())})):null})}),300)},removeSuggestion:A,setInput:s}),Object(u.jsx)(O,{imageData:j,fetchData:function(e,t,c){w(!0),P({server:e,id:t,secret:c})}})]})]})};s.a.render(Object(u.jsx)(v,{}),document.getElementById("root"))}},[[43,1,2]]]);
//# sourceMappingURL=main.914028dc.chunk.js.map